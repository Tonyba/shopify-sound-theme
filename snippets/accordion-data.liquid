{{ 'accordion-data.css' | asset_url | stylesheet_tag }}

{%liquid

    assign details = product.metafields.custom.details
    assign works = product.metafields.custom.how_it_works
    assign shipping = product.metafields.custom.shipping_returns
    assign faqs = product.metafields.custom.faqs

 %}

<div class="accordion-data">
    <div class="accordion-item">
        <button class="accordion">Details <span class="accordion-icon"> {% render 'icon-chevron-up' %} </span></button>
        <div class="panel">
          <p>{{details | metafield_tag }}</p>
        </div>
    </div>
    
    <div class="accordion-item">
        <button class="accordion">How it Works <span class="accordion-icon"> {% render 'icon-chevron-up' %} </span></button>
        <div class="panel">
          <p>{{works | metafield_tag}}</p>
        </div>
    </div>
    <div class="accordion-item">
        <button class="accordion">Shipping & Returns <span class="accordion-icon"> {% render 'icon-chevron-up' %} </span></button>
        <div class="panel">
          <p>{{shipping | metafield_tag}}</p>
        </div>
    </div>
    <a class="accordion-item" href="#faqs">
        <button class="accordion">FAQS <span class="accordion-icon"> {% render 'icon-chevron-up' %} </span></button>
        <div class="panel">
          <p>{{faqs | metafield_tag}}</p>
        </div>
    </a>

</div>




<script async>
    (function () {

        var acc = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < acc.length; i++) {
            acc[i].onclick = function() {
                this.classList.toggle("active");
                var panel = this.nextElementSibling;
                if (panel.style.maxHeight){
                panel.style.maxHeight = null;
                } else {
                panel.style.maxHeight = panel.scrollHeight + "px";
                } 
            }
        }
    
    })();
</script>